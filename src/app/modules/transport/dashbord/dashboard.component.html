<div class="dashboard-container">
    <h2 class="title">Gestion Transport</h2>

    <section class="section">
        <h3>Compagnies partenaires</h3>
        <div class="horizontal-scroll">
            <div *ngFor="let c of companies" class="company-card" [class.active]="selectedCompanyId === c.id"
                (click)="c.id && selectCompany(c.id)">

                <div class="logo-placeholder">
                    {{ c.name ? c.name.charAt(0).toUpperCase() : '?' }}
                </div>
                <span>{{ c.name }}</span>
            </div>
        </div>
    </section>

    <section class="section" style="margin-top: 32px;">
        <div class="header-row">
            <h3>Véhicules de la flotte</h3>
            <span class="count" *ngIf="selectedVehicles.length > 0">
                {{ selectedVehicles.length }} véhicule(s)
            </span>
        </div>

        <div class="vehicle-list" *ngIf="selectedVehicles.length > 0">
            <div class="vehicle-item" *ngFor="let v of selectedVehicles">
                <div class="v-info">
                    <strong>{{ v.vehicleType }}</strong>
                    <span>Matricule: {{ v.registrationNumber }}</span>
                </div>
                <div class="v-status" [class.available]="true">En service</div>
            </div>
        </div>

        <div class="empty-state" *ngIf="selectedVehicles.length === 0 && selectedCompanyId">
            <p>Aucun véhicule enregistré pour cette société.</p>
        </div>

        <div class="empty-state" *ngIf="!selectedCompanyId">
            <p>Sélectionnez une compagnie pour voir ses véhicules.</p>
        </div>
    </section>
</div>